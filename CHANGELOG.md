# SysConfigFile Changelog

see also [Releases on GitHub](https://github.com/mazzy-ax/SysConfigFile/releases)

## [2.0.0](https://github.com/mazzy-ax/SysConfigFile/compare/1.0.0...2.0.0) - 2019-08-10

Добавлено:

* добавлена валидация config-файлов по xsd-схеме
  * для валидации config-файла согласно xsd-схемы добавлены методы `checkFileValid`, `ensureFileValid`, `assertFileValid`
  * для валидации самой схемы добавлены методы `checkSchemaValid`, `ensureSchemaValid`, `assertSchemaValid`
  * класс может прочитать xsd-схему как из ресурсов AOT, так и из xsd-файла
  * добавлены методы `file`, `schema`, `schemaPath`, `schemaResourceName` и приватный метод `xmlSchema`
  * добавлен раздел о валидации в README.md
* добавлена возможность задавать тексты xsd-схемы и config-файла в конструкторе
  * добавлены параметров в конструкторах `new` и `construct`
  * класс кэширует только значения параметров, если текст конфига прочитан из файл, и не кэширует значения параметров, если текст конфига задан в конструкторе
* класс реализует интерфейс SysPackable
  * добавлены методы `pack`/`unpack`
  * добавлен статический конструктор `create`
  * добавлен список приватных переменных `#CurrentList`, которые сериализуются методом `pack`
* добавлены новые тестовые методы в класс `SysConfigFileTest` (всего 80 тестовых методов)

Изменено:

* функция get и getAll раньше удаляла а только пробелы в начале и в конце строки. Теперь эти функции отсекают и пробелы, и табуляции и переводы строк при `System.String.Trim`
* в методе `new` при инициализации переменной `directory` добавляется символ `\`, если его нет в конце строки каталога
* класс бросает исключения только в `ensure`-методах
* упрощена инициализация тестируемых конфигов в существующих тестовых методах класса `SysConfigFileTest`
* обновлен README.md и комментарии в исходном коде

Изменено с потерей совместимости с предыдущей версией:

* название метода `applyLastName` изменено на `parmLastUsedParamName`
* название метода `fileExists` изменено на `checkFileExists`
* название метода `dataFlush` изменено на `clearGlobalCache`
* название метода `parmDefaultDirectory` изменено на `defaultDirectory`, теперь метод только только возвращает каталог по умолчанию. задавать каталог можно только в конструкторе.

## 1.0.0 - 2019-07-16

* Initial release
